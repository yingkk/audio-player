<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>预约平台</title>
    <meta content="telephone=no" name="format-detection"/>
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no">
    <link rel="shortcut icon" type="image/x-icon" href="../img/favicon.ico">
    <link rel="stylesheet" href="../lib/vant/vant-rem.css">
    <link rel="stylesheet" href="../css/base.css">
    <link rel="stylesheet" href="../css/modules/setting-edit.css">
    <script src="../js/init.js"></script>
    <script src="../lib/js.cookie/js.cookie.min.js"></script>
    <script src="../js/base.js"></script>
    <script src="../js/utils.js"></script>
    <script src="../lib/axios/axios.min.js"></script>
    <script src="../js/snlDateTool.js"></script>
    <script src="../js/req-utils.js"></script>
    <script src="../js/req.js"></script>
    <script src="../lib/flexible/flexible.js"></script>
    <script src="../lib/vue/vue.js"></script>
    <script src="../lib/vant/vant.min.js"></script>
</head>
<body>
<div ref="app" id="fg-app">
    <div v-if="form" class="container">
        <div class="header" style="line-height: .25rem;padding-top: .15rem;">编辑基本资料</div>
        <van-form @submit="onSubmit" @failed="onFailed">
            <van-field style="height: .6rem" name="mobile" label="手机号">
                <div slot="input" style="line-height: .30rem">{{form.mobile}}</div>
            </van-field>
            <van-field v-model="form.name" name="name" label="用户名" placeholder="请输入用户名"
                       :rules="[{ validator, message: '请输入正确用户名' }]"></van-field>
            <van-field readonly clickable :value="sexColumns[form.sex]" name="sex" label="性别" placeholder="请选择性别"
                       @click="showSexPicker = true"></van-field>
            <van-field v-model="form.idNumber" name="idNumber" label="身份证" placeholder="请输入身份证"
                    :rules="[{ validator: validatorIDCard, message: '请输入正确身份证' }]"></van-field>
            <van-field v-model="form.eMail" name="eMail" label="邮箱" placeholder="请输入邮箱"
                       :rules="[{ validator: validatorPhone, message: '请输入正确手机号' }]"></van-field>
            <div style="margin-top: .1rem">
                <van-button block color="#B3312A" native-type="submit">
                    提交
                </van-button>
                <van-button style="margin-top: .2rem" @click="clickCancelAccount" block color="#AFAFAF" native-type="button">
                    永久注销账号
                </van-button>
                <van-button style="margin-top: .2rem" @click="clickBack" block color="#B3312A" native-type="button">
                    返回
                </van-button>
            </div>
        </van-form>
    </div>
    <van-popup v-model="showSexPicker" position="bottom">
        <van-picker v-if="showSexPicker" @confirm="onSexConfirm" @cancel="showSexPicker = false" show-toolbar
                    title="选择性别" :columns="sexColumns" :default-index="form.sex"/>
    </van-popup>
</div>
<script src="../js/modules/setting-edit.js?v=1.0.0"></script>
</body>
</html>
